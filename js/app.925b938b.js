(function(e){function t(t){for(var a,s,u=t[0],r=t[1],l=t[2],m=0,d=[];m<u.length;m++)s=u[m],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&d.push(c[s][0]),c[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);o&&o(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,u=1;u<n.length;u++){var r=n[u];0!==c[r]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},c={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],r=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var o=r;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07ce":function(e,t,n){"use strict";n("1c44")},"0a52":function(e,t,n){e.exports=n.p+"img/smile4.3d4172ca.png"},"0ada":function(e,t,n){},"0c44":function(e,t,n){"use strict";n("1cbc")},"0f77":function(e,t,n){"use strict";n("5ca2")},1126:function(e,t,n){e.exports=n.p+"img/smile6.dd6f2680.png"},"11ea":function(e,t,n){},1736:function(e,t,n){},"1c3e":function(e,t,n){"use strict";n("5a4f")},"1c44":function(e,t,n){},"1cbc":function(e,t,n){},2309:function(e,t,n){e.exports=n.p+"img/smile2.f287f7c8.png"},2446:function(e,t,n){"use strict";n("ea90")},2495:function(e,t,n){},"2b28":function(e,t,n){"use strict";n("4641")},"2b6e":function(e,t,n){"use strict";n("9285")},"2dc8":function(e,t,n){},"35e2":function(e,t,n){e.exports=n.p+"img/smile1.4afc59cd.png"},"3a59":function(e,t,n){},"3efd":function(e,t,n){},4552:function(e,t,n){},4641:function(e,t,n){},"517d":function(e,t,n){e.exports=n.p+"img/arrow-btn.1d8c17ce.svg"},"51e6":function(e,t,n){"use strict";n("2dc8")},"539c":function(e,t,n){e.exports=n.p+"img/smile7.035fe3fc.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),c={class:"segments-wrapper m-0 p-0"};function i(e,t,n,i,s,u){var r=Object(a["y"])("new-segment-layout"),l=Object(a["y"])("segments-layout-mobile"),o=Object(a["y"])("segments-popup");return Object(a["r"])(),Object(a["g"])("div",c,[i.windowWidth>1280?(Object(a["r"])(),Object(a["e"])(r,{key:0,rfmInfo:i.rfmInfo,onToggleMainModal:t[0]||(t[0]=function(e){return i.toggleMainModal(e)})},null,8,["rfmInfo"])):i.windowWidth<1280?(Object(a["r"])(),Object(a["e"])(l,{key:1,onToggleMainModal:t[1]||(t[1]=function(e){return i.toggleMainModal(e)})})):Object(a["f"])("",!0),Object(a["k"])(o,{class:"popup-wrapper",onToggleMainModal:t[2]||(t[2]=function(e){return i.toggleMainModal(e)}),segmentPopup:i.segmentPopup,mainModalState:i.modalState},null,8,["segmentPopup","mainModalState"])])}var s=n("5502"),u=function(e){return Object(a["t"])("data-v-1d192170"),e=e(),Object(a["s"])(),e},r={key:0,class:"popup"},l={class:"main-wrapper"},o={key:1,class:"popup-segment"},m={class:"stat"},d=u((function(){return Object(a["h"])("h3",{class:"segment__title title"},"Статистика по сегменту",-1)})),b={class:"stat__list"},p={class:"stat__item"},g=u((function(){return Object(a["h"])("p",{class:"stat__text"},"Клиентов",-1)})),v={class:"stat__text text--bold"},O={class:"stat__item"},j=u((function(){return Object(a["h"])("p",{class:"stat__text"},"От общего числа",-1)})),f={class:"stat__text text--bold"},y={class:"params"},_=u((function(){return Object(a["h"])("h3",{class:"params__title title"},"Параметры сегмента",-1)})),h={class:"params__list"},x={class:"params__item"},M=u((function(){return Object(a["h"])("p",{class:"params__text"},"Давность, дней",-1)})),S={key:0,class:"params__text params__text--bold"},w={key:1,class:"params__text params__text--bold"},F={class:"params__item"},R=u((function(){return Object(a["h"])("p",{class:"params__text"},"Количество покупок",-1)})),q={class:"params__text params__text--bold"},k={key:0},A={key:1},C={key:2},D={class:"params__item"},P=u((function(){return Object(a["h"])("p",{class:"params__text"},"Средний чек",-1)})),T={key:0,class:"params__text params__text--bold"},N=u((function(){return Object(a["h"])("h3",{class:"guidance__title title"},"Рекомендации по сегменту",-1)})),W=["innerHTML"],E={class:"notif"},B={class:"notif__header"},V=u((function(){return Object(a["h"])("h3",{class:"notif__title title"},"Клиенты сегмента",-1)})),L=Object(a["j"])(" Типы уведомлений сегмента "),H={class:"clients-header"},z={class:"clients-header__item"},U={key:0,class:"clients-checkbox--active"},I=u((function(){return Object(a["h"])("li",{class:"clients-header__item"},"Номер",-1)})),Y={class:"status"},X={class:"item--mobile"},G={class:"item--mobile"},Z={class:"chanel"},Q={class:"clients__wrapper"},J={class:"clients__list"},K=["onClick"],$={class:"clients-checkbox--active"},ee={class:"clients__text item--mobile"},te={class:"clients__text status"},ne={class:"clients__text clients__visit item--mobile"},ae={class:"clients__text item--mobile"},ce={class:"clients__text chanel"};function ie(e,t,n,c,i,s){var u=Object(a["y"])("a-side-component"),ie=Object(a["y"])("segment-header"),se=Object(a["y"])("popup-header-mobile"),ue=(Object(a["y"])("trend-up-icon"),Object(a["y"])("trend-down-icon"),Object(a["y"])("segments-submit-block")),re=Object(a["y"])("router-link"),le=Object(a["y"])("clients-pagination");return Object(a["r"])(),Object(a["g"])(a["a"],null,[Object(a["k"])(a["b"],{name:"bgAm"},{default:Object(a["E"])((function(){return[n.mainModalState?(Object(a["r"])(),Object(a["g"])("div",{key:0,class:"popup__background",onClick:t[0]||(t[0]=function(e){return c.toggleMainModal(!1)})})):Object(a["f"])("",!0)]})),_:1}),Object(a["k"])(a["b"],{name:"popupAm"},{default:Object(a["E"])((function(){return[n.mainModalState?(Object(a["r"])(),Object(a["g"])("div",r,[Object(a["h"])("div",l,[c.windowWidth>550?(Object(a["r"])(),Object(a["e"])(u,{key:0,windowWidth:c.windowWidth,segmentPopup:n.segmentPopup,onToggleMainModal:c.toggleMainModal,onUpdateASide:c.updateASide},null,8,["windowWidth","segmentPopup","onToggleMainModal","onUpdateASide"])):Object(a["f"])("",!0),0===c.modalType||c.windowWidth>1440?(Object(a["r"])(),Object(a["g"])("section",o,[c.windowWidth>768?(Object(a["r"])(),Object(a["e"])(ie,{key:0,aSideNumber:c.aSideNumber},null,8,["aSideNumber"])):Object(a["f"])("",!0),Object(a["k"])(se,{windowWidth:c.windowWidth,segmentPopup:n.segmentPopup,modalType:c.modalType,aSideNumber:c.aSideNumber,onChangeModalType:c.toggleModal,onUpdateASide:c.updateASide},null,8,["windowWidth","segmentPopup","modalType","aSideNumber","onChangeModalType","onUpdateASide"]),Object(a["h"])("div",m,[d,Object(a["h"])("ul",b,[Object(a["h"])("li",p,[g,Object(a["h"])("p",v,Object(a["z"])(c.currentSegment.total_clients),1)]),Object(a["h"])("li",O,[j,Object(a["h"])("p",f,Object(a["z"])(c.currentSegment.total_clients_percent),1)])]),Object(a["f"])("",!0)]),Object(a["h"])("div",y,[_,Object(a["h"])("ul",h,[Object(a["h"])("li",x,[M,c.currentSegment.max_recency?(Object(a["r"])(),Object(a["g"])("p",S,Object(a["z"])(c.currentSegment.min_recency)+" - "+Object(a["z"])(c.currentSegment.max_recency),1)):(Object(a["r"])(),Object(a["g"])("p",w,Object(a["z"])(c.currentSegment.min_recency)+"+ ",1))]),Object(a["h"])("li",F,[R,Object(a["h"])("p",q,[c.currentSegment.min_frequency===c.currentSegment.max_frequency?(Object(a["r"])(),Object(a["g"])("span",k,Object(a["z"])(c.currentSegment.max_frequency),1)):c.currentSegment.max_frequency?(Object(a["r"])(),Object(a["g"])("span",A,Object(a["z"])(c.currentSegment.min_frequency)+" - "+Object(a["z"])(c.currentSegment.max_frequency),1)):(Object(a["r"])(),Object(a["g"])("span",C,Object(a["z"])(c.currentSegment.min_frequency)+"+",1))])]),Object(a["h"])("li",D,[P,c.currentSegment.average_check?(Object(a["r"])(),Object(a["g"])("p",T,Object(a["z"])(c.currentSegment.average_check.toLocaleString())+" ₽ ",1)):Object(a["f"])("",!0)])])]),Object(a["h"])("div",{class:Object(a["m"])(["guidance",{_loader:c.loadingRfmRecommendation}])},[N,c.currentSegment.recommendation?(Object(a["r"])(),Object(a["g"])("div",{key:0,innerHTML:c.currentSegment.recommendation.content},null,8,W)):Object(a["f"])("",!0)],2),Object(a["F"])(Object(a["k"])(ue,{isLicense:c.isLicense,onTakeModalState:c.takeModalState},null,8,["isLicense","onTakeModalState"]),[[a["B"],c.windowWidth<=550]])])):Object(a["f"])("",!0),Object(a["F"])(Object(a["h"])("section",E,[Object(a["h"])("div",B,[V,Object(a["k"])(re,{to:{name:"notificationTypes"},class:"notif__add"},{default:Object(a["E"])((function(){return[L]})),_:1})]),Object(a["k"])(se,{windowWidth:c.windowWidth,segmentPopup:n.segmentPopup,modalType:c.modalType,aSideNumber:c.aSideNumber,onChangeModalType:c.toggleModal,onUpdateASide:c.updateASide},null,8,["windowWidth","segmentPopup","modalType","aSideNumber","onChangeModalType","onUpdateASide"]),Object(a["h"])("ul",H,[Object(a["h"])("li",z,[Object(a["h"])("button",{class:"clients-checkbox",onClick:t[1]||(t[1]=function(){return c.toggleClient&&c.toggleClient.apply(c,arguments)})},[c.isAllActive?(Object(a["r"])(),Object(a["g"])("span",U)):Object(a["f"])("",!0)])]),I,Object(a["h"])("li",Y,[Object(a["h"])("button",{class:"clients-header__item",onClick:t[2]||(t[2]=function(e){return c.addFilter("status")})},"Статус")]),Object(a["h"])("li",X,[Object(a["h"])("button",{class:"clients-header__item clients-header__visit",onClick:t[3]||(t[3]=function(e){return c.addFilter("visits")})},"Визиты")]),Object(a["h"])("li",G,[Object(a["h"])("button",{class:"clients-header__item",onClick:t[4]||(t[4]=function(e){return c.addFilter("late")})},"Давность")]),Object(a["h"])("li",Z,[Object(a["h"])("button",{class:"clients-header__item",onClick:t[5]||(t[5]=function(e){return c.addFilter("chanel")})},"Канал")])]),Object(a["h"])("div",Q,[Object(a["h"])("ul",J,[(Object(a["r"])(!0),Object(a["g"])(a["a"],null,Object(a["w"])(c.pageOfClients,(function(e,t){return Object(a["r"])(),Object(a["g"])("li",{class:"clients__item",key:t},[Object(a["h"])("button",{class:"clients-checkbox",onClick:function(t){return e.state=!e.state}},[Object(a["F"])(Object(a["h"])("span",$,null,512),[[a["B"],e.state]])],8,K),Object(a["h"])("p",ee,Object(a["z"])(e.number),1),Object(a["h"])("p",te,Object(a["z"])(e.status),1),Object(a["h"])("p",ne,Object(a["z"])(e.visits),1),Object(a["h"])("p",ae,Object(a["z"])(e.late),1),Object(a["h"])("p",ce,Object(a["z"])(e.chanel),1)])})),128))]),Object(a["k"])(le,{numberOfClients:c.clientsList.length,max:25,onChangePage:t[6]||(t[6]=function(e){return c.changePage(e)})},null,8,["numberOfClients"])]),Object(a["k"])(ue,{class:"submit-block",isLicense:c.isLicense,onTakeModalState:c.takeModalState},null,8,["isLicense","onTakeModalState"])],512),[[a["B"],1===c.modalType||c.windowWidth>1440]])])])):Object(a["f"])("",!0)]})),_:1})],64)}n("a9e3"),n("4e82"),n("d3b7"),n("159b");var se={class:"popup-segment__header"},ue={class:"item-number segment__number"},re={class:"header__title"};function le(e,t,n,c,i,s){var u=Object(a["y"])("close-button");return Object(a["r"])(),Object(a["g"])("div",se,[Object(a["h"])("span",ue,[Object(a["F"])(Object(a["h"])("span",null,"0",512),[[a["B"],n.aSideNumber<=10]]),Object(a["j"])(" "+Object(a["z"])(n.aSideNumber-1),1)]),Object(a["h"])("h2",re,Object(a["z"])(c.nameList[n.aSideNumber-2]),1),Object(a["k"])(u,{class:"modal-close",closeType:2,onClick:c.closeModal},null,8,["onClick"])])}var oe=n("9f14"),me=n.n(oe),de=function(e){return Object(a["t"])("data-v-803898dc"),e=e(),Object(a["s"])(),e},be={key:0},pe=de((function(){return Object(a["h"])("span",{class:"close-line close-line1"},null,-1)})),ge=de((function(){return Object(a["h"])("span",{class:"close-line close-line2"},null,-1)})),ve=[pe,ge],Oe={key:1},je=de((function(){return Object(a["h"])("span",{class:"close-line--mobile close-line1"},null,-1)})),fe=de((function(){return Object(a["h"])("span",{class:"close-line--mobile close-line2"},null,-1)})),ye=[je,fe],_e={key:2,src:me.a,alt:""};function he(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("button",{class:Object(a["m"])([{"close--circle":1===n.closeType},{"close--square":2===n.closeType},{"close--mobile":3===n.closeType}])},[1===n.closeType?(Object(a["r"])(),Object(a["g"])("div",be,ve)):3===n.closeType?(Object(a["r"])(),Object(a["g"])("div",Oe,ye)):(Object(a["r"])(),Object(a["g"])("img",_e))],2)}var xe={name:"close-button",props:{closeType:{type:Number}}},Me=(n("2446"),n("6b0d")),Se=n.n(Me);const we=Se()(xe,[["render",he],["__scopeId","data-v-803898dc"]]);var Fe=we,Re={name:"segment-header",components:{closeButton:Fe},props:{aSideNumber:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,a=["Новички","Растущие","Чемпионы","Сомневающиеся","Лояльные","Требуют внимания","Спящие","Средние на грани","В зоне риска","Отток"];function c(){n("toggleMainModal",!1)}return{nameList:a,closeModal:c}}};n("8b8a");const qe=Se()(Re,[["render",le],["__scopeId","data-v-822a8912"]]);var ke=qe,Ae={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ce=Object(a["h"])("path",{d:"M16.5 9.5L12.3 13.7L10.7 11.3L7.5 14.5",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),De=Object(a["h"])("path",{d:"M14.5 9.5H16.5V11.5",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Pe=Object(a["h"])("path",{d:"M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Te=[Ce,De,Pe];function Ne(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("svg",Ae,Te)}var We={name:"trend-up-icon"};const Ee=Se()(We,[["render",Ne]]);var Be=Ee,Ve={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Le=Object(a["h"])("path",{d:"M16.5 14.5L12.3 10.3L10.7 12.7L7.5 9.5",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),He=Object(a["h"])("path",{d:"M14.5 14.5H16.5V12.5",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ze=Object(a["h"])("path",{d:"M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Ue=[Le,He,ze];function Ie(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("svg",Ve,Ue)}var Ye={name:"trend-down-icon"};const Xe=Se()(Ye,[["render",Ie]]);var Ge=Xe,Ze=n("c71e"),Qe=n.n(Ze),Je={class:"submit-block"},Ke={class:"submit__top"},$e=Object(a["i"])('<div class="submit__left" data-v-4f7aa6fa><h3 class="submit__title title" data-v-4f7aa6fa>Рассылка уведомлений</h3><p class="submit__number" data-v-4f7aa6fa> Всего клиентов: <img class="sms--small" src="'+Qe.a+'" alt="" data-v-4f7aa6fa><span class="text--bold" data-v-4f7aa6fa>4 180</span></p></div>',1),et=["disabled"],tt={key:0,class:"buy-license"};function nt(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("div",Je,[Object(a["h"])("div",Ke,[$e,Object(a["h"])("button",{class:"submit__export submit-button",onClick:t[0]||(t[0]=function(e){return c.takeModalState({modal:"submitSettings",state:!0})}),disabled:!n.isLicense}," Отправить ",8,et)]),n.isLicense?Object(a["f"])("",!0):(Object(a["r"])(),Object(a["g"])("button",tt,"Приобретите лицензию"))])}var at={name:"segmentsSubmitBlock",props:{isLicense:{type:Boolean}},setup:function(e,t){var n=t.emit;function a(e){n("takeModalState",e)}return{takeModalState:a}}};n("07ce");const ct=Se()(at,[["render",nt],["__scopeId","data-v-4f7aa6fa"]]);var it=ct,st={class:"modal__toggle-wrapper modal__toggle-wrapper1"};function ut(e,t,n,c,i,s){var u=Object(a["y"])("segment-header"),r=Object(a["y"])("a-side-component");return Object(a["r"])(),Object(a["g"])("div",null,[Object(a["F"])(Object(a["k"])(u,{aSideNumber:n.aSideNumber},null,8,["aSideNumber"]),[[a["B"],n.windowWidth<=768]]),Object(a["F"])(Object(a["k"])(r,{windowWidth:n.windowWidth,segmentPopup:n.segmentPopup,onUpdateASide:c.updateASide},null,8,["windowWidth","segmentPopup","onUpdateASide"]),[[a["B"],n.windowWidth<=550]]),Object(a["F"])(Object(a["h"])("div",st,[Object(a["h"])("button",{class:Object(a["m"])(["modal__toggle",{"modal__toggle--active":0===n.modalType}]),onClick:t[0]||(t[0]=function(e){return c.toggleModal(0)})}," Общее о сегменте ",2),Object(a["h"])("button",{class:Object(a["m"])(["modal__toggle",{"modal__toggle--active":1===n.modalType}]),onClick:t[1]||(t[1]=function(e){return c.toggleModal(1)})}," Типы увидомлений ",2)],512),[[a["B"],n.windowWidth<=1440]])])}var rt={class:"main__a-side"},lt={class:"a-side__list"},ot=["onClick"],mt={class:"a-side__button"},dt=["src"];function bt(e,t,c,i,s,u){var r=Object(a["y"])("redo-icon");return Object(a["r"])(),Object(a["g"])("div",rt,[Object(a["h"])("ul",lt,[(Object(a["r"])(),Object(a["g"])(a["a"],null,Object(a["w"])(11,(function(e){return Object(a["h"])("li",{class:Object(a["m"])(["a-side__item","a-side__item"+e,{"a-side--active":i.aSideNumber===e}]),onClick:function(t){return i.updateASide(e)},key:e},[Object(a["h"])("button",mt,[1===e?(Object(a["r"])(),Object(a["e"])(r,{key:0})):(Object(a["r"])(),Object(a["g"])("img",{key:1,class:"a-side__image",src:n("d6fb")("./smile"+(e-2)+".png"),alt:"smile"},null,8,dt))])],10,ot)})),64))])])}var pt={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},gt=Object(a["h"])("path",{d:"M16.8691 18.3096H8.86914C6.10914 18.3096 3.86914 16.0696 3.86914 13.3096C3.86914 10.5496 6.10914 8.30957 8.86914 8.30957H19.8691",stroke:"#6D6D6D","stroke-width":"1.7","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),vt=Object(a["h"])("path",{d:"M17.5703 10.8104L20.1303 8.25043L17.5703 5.69043",stroke:"#6D6D6D","stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Ot=[gt,vt];function jt(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("svg",pt,Ot)}var ft={name:"redo-icon"};const yt=Se()(ft,[["render",jt]]);var _t=yt,ht={name:"aSideComponent",components:{redoIcon:_t},props:{windowWidth:{type:Number},segmentPopup:{type:Number,default:2}},setup:function(e,t){var n=t.emit,c=Object(a["v"])(2);function i(e){1===e?n("toggleMainModal",!1):(c.value=e,n("updateASide",e))}return Object(a["D"])((function(){c.value=e.segmentPopup,n("updateASide",e.segmentPopup)})),{updateASide:i,aSideNumber:c}}};n("2b28");const xt=Se()(ht,[["render",bt],["__scopeId","data-v-987afd1c"]]);var Mt=xt,St={name:"popupHeaderMobile",components:{ASideComponent:Mt,segmentHeader:ke},props:{windowWidth:{type:Number},segmentPopup:{type:Number,default:2},modalType:{type:Number,default:0},aSideNumber:{type:Number}},setup:function(e,t){var n=t.emit;function a(e){n("changeModalType",e)}function c(e){n("updateASide",e)}return{toggleModal:a,updateASide:c}}};n("0f77");const wt=Se()(St,[["render",ut],["__scopeId","data-v-8292009e"]]);var Ft=wt,Rt=function(e){return Object(a["t"])("data-v-bdbf4d6a"),e=e(),Object(a["s"])(),e},qt={class:"pagination"},kt={class:"pagination__text"},At={class:"pagination__main"},Ct=["onClick"],Dt=Rt((function(){return Object(a["h"])("button",{class:"pagination__button"},"...",-1)}));function Pt(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("div",qt,[Object(a["h"])("p",kt,"Показаны результаты с 1 по "+Object(a["z"])(n.max)+" из "+Object(a["z"])(n.numberOfClients),1),Object(a["h"])("div",At,[Object(a["h"])("button",{class:"pagination__button button--prev",onClick:t[0]||(t[0]=function(e){return c.changePage("prev",-1)})},"Назад"),(Object(a["r"])(!0),Object(a["g"])(a["a"],null,Object(a["w"])(c.numberOfPages,(function(e){return Object(a["r"])(),Object(a["g"])("button",{class:Object(a["m"])(["pagination__button",{"pagination__button--active":c.currentPage===e}]),key:e,onClick:function(t){return c.changePage("number",e)}},Object(a["z"])(e),11,Ct)})),128)),Dt,Object(a["h"])("button",{class:"pagination__button button--next",onClick:t[1]||(t[1]=function(e){return c.changePage("next",1)})},"Вперед")])])}var Tt={name:"ClientsPagination",props:{numberOfClients:{type:Number,required:!0},max:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,c=Object(a["c"])((function(){return e.numberOfClients/e.max<1?1:Math.ceil(e.numberOfClients/e.max)})),i=Object(a["v"])(1);function s(e,t){"number"===e?i.value=t:i.value+=t,n("changePage",i.value)}return{currentPage:i,numberOfPages:c,changePage:s}}};n("9f41");const Nt=Se()(Tt,[["render",Pt],["__scopeId","data-v-bdbf4d6a"]]);var Wt=Nt,Et={name:"App",components:{segmentHeader:ke,trendUpIcon:Be,trendDownIcon:Ge,segmentsSubmitBlock:it,popupHeaderMobile:Ft,ASideComponent:Mt,ClientsPagination:Wt},props:{segmentPopup:{type:Number,default:2},mainModalState:{type:Boolean,default:!1}},setup:function(e,t){var n=t.emit,c=Object(s["b"])(),i=Object(a["u"])({type:"status",value:"Ожидание"});function u(e){"status"===e?(i.type="status","Ожидание"===i.value?i.value="Прошел":i.value="Ожидание",o.sort((function(e){return e[i.type]===i.value?-1:1}))):"visits"===e?(i.type="visits","max"===i.value?(i.value="min",o.sort((function(e,t){return e["visits"]>t["visits"]?-1:1}))):(i.value="max",o.sort((function(e,t){return e["visits"]<t["visits"]?-1:1})))):"late"===e?(i.type="late","max"===i.value?(i.value="min",o.sort((function(e,t){return e["late"]>t["late"]?-1:1}))):(i.value="max",o.sort((function(e,t){return e["late"]<t["late"]?-1:1})))):"chanel"===e&&(i.type="chanel","WA"===i.value?i.value="PUSH":"PUSH"===i.value?i.value="SMS":i.value="WA"),o.sort((function(e){return e[i.type]===i.value?-1:1}))}var r=Object(a["v"])(1);function l(e){r.value=e}var o=Object(a["u"])([{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:2,late:-4,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:5,late:-5,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-2,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:3,late:-2,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-1,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:3,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-6,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:2,late:-4,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-2,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-1,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:4,late:-2,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:4,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:3,late:-4,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:4,late:-4,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:5,late:-4,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:2,late:-5,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-5,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:2,late:-2,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-1,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:3,late:-1,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:13,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:4,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:4,late:-3,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:3,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:2,late:-3,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:2,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:5,late:-3,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:5,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:6,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:6,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"PUSH",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:7,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:2,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"WA",state:!0},{number:"+ 7 988 245 69 08",status:"Ожидание",visits:1,late:-3,chanel:"SMS",state:!0},{number:"+ 7 988 245 69 08",status:"Прошел",visits:1,late:-3,chanel:"SMS",state:!0}]),m=Object(a["c"])((function(){for(var e=[],t=25*(r.value-1);t<25*r.value;t++){if(!o[t])return e;e.push(o[t])}return e}));function d(){b.value?o.forEach((function(e){e.state=!1})):o.forEach((function(e){e.state=!0}))}var b=Object(a["c"])((function(){var e=!0;return o.forEach((function(t){t.state||(e=!1)})),!!e}));function p(e){n("toggleMainModal",e)}var g=Object(a["v"])(!1),v=Object(a["c"])((function(){return c.state.rfm.loadingRfmRecommendation})),O=Object(a["u"])({}),j=Object(a["u"])([]),f=Object(a["v"])(!1),y=Object(a["v"])(!1),_=Object(a["v"])(!1),h=Object(a["v"])(0);function x(e){"newNotification"===e.modal?(f.value=e.state,e.list&&(e.list.forEach((function(t,n,a){j.length>=a.length?t.state!=j[n].state&&(j[n].state=t.state):j.push(e.list[n])})),S())):"submitSettings"===e.modal?_.value=e.state:(e.index&&(h.value=e.index),"submit"===e.type&&(j[h.value].text=e.updateName),y.value=e.state)}var M=Object(a["u"])([]);function S(){for(var e=0;e<=j.length;e++)M.pop();j.forEach((function(e){e.state&&M.push(e)}))}function w(e){j[e].state=!1,S()}var F=Object(a["v"])(0);function R(e){F.value=e}var q=Object(a["v"])(0);function k(){q.value=document.documentElement.clientWidth}k(),window.addEventListener("resize",k);var A=Object(a["v"])(2);function C(e){A.value=e}return Object(a["D"])((function(){e.segmentPopup&&(A.value=e.segmentPopup)})),Object(a["C"])(A,(function(e){c.dispatch("getRfmRecommendation",e-1)})),{itemList:j,notifEditorState:y,newModalState:f,takeModalState:x,deleteItem:w,submitModalState:_,editorIndex:h,activeList:M,isLicense:g,modalType:F,toggleModal:R,windowWidth:q,toggleMainModal:p,aSideNumber:A,updateASide:C,currentSegment:O,loadingRfmRecommendation:v,clientsList:o,toggleClient:d,isAllActive:b,clientsPage:r,changePage:l,pageOfClients:m,addFilter:u}}};n("0c44"),n("51e6"),n("868f"),n("cf2d"),n("a045");const Bt=Se()(Et,[["render",ie],["__scopeId","data-v-1d192170"]]);var Vt=Bt,Lt=(n("b0c0"),function(e){return Object(a["t"])("data-v-78ce2354"),e=e(),Object(a["s"])(),e}),Ht={class:"segments-wrapper--mobile"},zt={class:"segments__header"},Ut=Object(a["i"])('<h3 class="segments__title" data-v-78ce2354>Сегментация клиентов и построение сетки удержания</h3><ul class="header__list" data-v-78ce2354><li class="header__item" data-v-78ce2354><p class="header__param" data-v-78ce2354>Всего клиентов</p><p class="header__stat" data-v-78ce2354>12 180</p></li><li class="header__item" data-v-78ce2354><p class="header__param" data-v-78ce2354>Средний чек</p><p class="header__stat" data-v-78ce2354>1 802 ₽</p></li></ul><p class="segments__subtitle" data-v-78ce2354>Выберите сегмент для получения по нему рекомендаций.</p>',3),It=Lt((function(){return Object(a["h"])("p",null,"Настройки сегментов",-1)})),Yt={key:0,class:"segments__settings"},Xt=Object(a["i"])('<div class="settings__wrapper" data-v-78ce2354><p class="settings__text" data-v-78ce2354> На время разработки qoob.store все тонкие настройки сервиса доступны в полной браузерной версии на компьютере или ноутбуке. </p><div class="settings__modal" data-v-78ce2354><p class="settings__title" data-v-78ce2354>Настройка диапазона сегмента</p><div class="settings__item" data-v-78ce2354><p class="settings__name" data-v-78ce2354>Количество покупок</p><div class="settings__input-wrapper" data-v-78ce2354><span class="settings__input" data-v-78ce2354>1</span> — <span class="settings__input" data-v-78ce2354>5</span></div></div><div class="settings__item" data-v-78ce2354><p class="settings__name" data-v-78ce2354>Давность, дней</p><div class="settings__input-wrapper" data-v-78ce2354><span class="settings__input" data-v-78ce2354>0</span> — <span class="settings__input" data-v-78ce2354>149</span></div></div><button class="settings__submit" data-v-78ce2354>Перейти к настройкам</button></div></div>',1),Gt=[Xt],Zt={class:"segments__list"},Qt=["onClick"],Jt={class:"item__header"},Kt={class:"segments__avatar"},$t={class:"index"},en=["src"],tn={class:"segments__stat"},nn={class:"segments__name"},an={class:"segments__number"},cn={class:"item__body"},sn={class:"item__stat"},un=Lt((function(){return Object(a["h"])("p",{class:"stat__text"},"Покупок",-1)})),rn={class:"stat__text"},ln={class:"item__stat"},on=Lt((function(){return Object(a["h"])("p",{class:"stat__text"},"Давность",-1)})),mn={class:"stat__text"};function dn(e,t,c,i,s,u){var r=Object(a["y"])("toggle-component");return Object(a["r"])(),Object(a["g"])("div",Ht,[Object(a["h"])("div",zt,[Ut,Object(a["h"])("div",{class:"settings__main",onClick:t[0]||(t[0]=function(){return i.settingToggle&&i.settingToggle.apply(i,arguments)})},[It,Object(a["k"])(r,{onSettingToggle:i.settingToggle,isActive:i.settingsActive},null,8,["onSettingToggle","isActive"])]),i.settingsActive?(Object(a["r"])(),Object(a["g"])("div",Yt,Gt)):Object(a["f"])("",!0)]),Object(a["h"])("ul",Zt,[(Object(a["r"])(!0),Object(a["g"])(a["a"],null,Object(a["w"])(i.segmentsList,(function(e,t){return Object(a["r"])(),Object(a["g"])("li",{class:Object(a["m"])(["segments__item","segments__item"+t]),onClick:function(e){return i.toggleMainModal(t+1)},key:t},[Object(a["h"])("div",Jt,[Object(a["h"])("div",Kt,[Object(a["h"])("span",$t,"0"+Object(a["z"])(t+1),1),Object(a["h"])("img",{src:n("d6fb")("./smile"+t+".png"),alt:"segment-emoji",class:"segments__smile"},null,8,en)]),Object(a["h"])("div",tn,[Object(a["h"])("p",nn,Object(a["z"])(e.name),1),Object(a["h"])("p",an,Object(a["z"])(e.number)+" — 38 %",1)])]),Object(a["h"])("div",cn,[Object(a["h"])("div",sn,[un,Object(a["h"])("p",rn,Object(a["z"])(e.cartStart)+" — "+Object(a["z"])(e.cartEnd),1)]),Object(a["h"])("div",ln,[on,Object(a["h"])("p",mn,Object(a["z"])(e.timeStart)+" — "+Object(a["z"])(e.timeEnd),1)])])],10,Qt)})),128))])])}function bn(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("div",{class:Object(a["m"])(["toggle",{"toggle--active":n.isActive}]),onClick:t[0]||(t[0]=Object(a["G"])((function(){return c.justToggle&&c.justToggle.apply(c,arguments)}),["stop"]))},[Object(a["h"])("span",{class:Object(a["m"])(["toggle__eclipse",{"eclipse--active":n.isActive}])},null,2)],2)}var pn={name:"toggle-component",props:{isActive:{type:Boolean,required:!1}},setup:function(e,t){var n=t.emit;function a(){n("settingToggle")}return{justToggle:a}}};n("96c8");const gn=Se()(pn,[["render",bn],["__scopeId","data-v-18b0be7b"]]);var vn=gn,On={name:"SegmentsLayoutMobile",components:{toggleComponent:vn},setup:function(e,t){var n=t.emit,c=[{name:"Чемпионы",cartStart:0,cartEnd:8,timeStart:0,timeEnd:1,number:4180},{name:"Лояльные",cartStart:0,cartEnd:10,timeStart:4,timeEnd:5,number:4180},{name:"Растущие",cartStart:0,cartEnd:17,timeStart:3,timeEnd:5,number:4180},{name:"Новички",cartStart:18,cartEnd:32,timeStart:2,timeEnd:4,number:4180},{name:"В зоне риска",cartStart:11,cartEnd:16,timeStart:1,timeEnd:3,number:4180},{name:"Средние на грани",cartStart:23,cartEnd:43,timeStart:0,timeEnd:3,number:4180},{name:"Сомневающиеся",cartStart:18,cartEnd:41,timeStart:0,timeEnd:1,number:4180},{name:"Требующие внимания",cartStart:21,cartEnd:50,timeStart:0,timeEnd:2,number:4180}],i=Object(a["v"])(!1);function s(){i.value=!i.value}function u(e){n("toggleMainModal",{index:e,state:!0})}return{segmentsList:c,settingToggle:s,settingsActive:i,toggleMainModal:u}}};n("2b6e");const jn=Se()(On,[["render",dn],["__scopeId","data-v-78ce2354"]]);var fn=jn,yn=n("61f1"),_n=n.n(yn),hn=function(e){return Object(a["t"])("data-v-472de79a"),e=e(),Object(a["s"])(),e},xn={class:"segments"},Mn={class:"segment__header header"},Sn=hn((function(){return Object(a["h"])("h3",{class:"segment__title"}," Сегментация клиентов и построение сетки удержания ",-1)})),wn=Object(a["i"])('<ul class="header__list" data-v-472de79a><li class="header__item header__item0" data-v-472de79a><div class="item__wrapper" data-v-472de79a><p class="header__param" data-v-472de79a>Всего клиентов</p><p class="header__stat" data-v-472de79a>100</p></div><div class="item__wrapper" data-v-472de79a><p class="header__param" data-v-472de79a>Средний чек по базе</p><p class="header__stat" data-v-472de79a>1600 ₽</p></div></li><li class="header__item header__item1" data-v-472de79a><div class="item__wrapper" data-v-472de79a><p class="header__param" data-v-472de79a>Клиенты ни разу не совершавшие визит</p><p class="header__stat" data-v-472de79a> 10 — 5 </p></div></li></ul>',1),Fn={class:"header__bottom bottom"},Rn={class:"settings__main"},qn=hn((function(){return Object(a["h"])("p",null,"Режим настройки сегментов",-1)})),kn={class:"segments__wrapper",ref:"segmentWrapper"},An=Object(a["i"])('<div class="item__header" data-v-472de79a><p class="item__number" data-v-472de79a>10</p><img class="item__icon" src="'+_n.a+'" alt="" data-v-472de79a></div><p class="item__name" data-v-472de79a>Отток за все время</p><p class="segment__stat" data-v-472de79a><span class="bold" data-v-472de79a>123</span> — <span class="light" data-v-472de79a>123</span></p><p class="segment__stat" data-v-472de79a><span class="light-1" data-v-472de79a>Средний чек</span> — <span class="bold" data-v-472de79a>123 ₽</span></p>',4),Cn=[An],Dn={class:"axis"},Pn={class:"axis__wrapper"},Tn={class:"axis__y"},Nn={key:0},Wn={class:"axis__x"},En={class:"axis__x--minus"};function Bn(e,t,n,c,i,s){var u=Object(a["y"])("toggle-component"),r=(Object(a["y"])("button-transparent"),Object(a["y"])("segment-modal")),l=Object(a["y"])("new-graph-item");return Object(a["r"])(),Object(a["g"])("div",xn,[Object(a["h"])("div",Mn,[Sn,Object(a["f"])("",!0),wn,Object(a["h"])("div",Fn,[Object(a["h"])("div",Rn,[qn,Object(a["k"])(u,{type:1,defaultState:!1,onClick:c.settingToggle},null,8,["onClick"])]),Object(a["f"])("",!0),Object(a["F"])(Object(a["h"])("button",{class:"settings__axis",onClick:t[1]||(t[1]=function(){return c.toggleModal&&c.toggleModal.apply(c,arguments)})}," Диапазоны ",512),[[a["B"],c.settingsState]])])]),Object(a["F"])(Object(a["k"])(r,{numberOfX:c.maxX,numberOfY:c.maxY,onCloseModal:c.toggleModal,onTakeModalData:c.takeModalData},null,8,["numberOfX","numberOfY","onCloseModal","onTakeModalData"]),[[a["B"],c.modalIsActive]]),Object(a["h"])("div",kn,[(Object(a["r"])(),Object(a["g"])(a["a"],null,Object(a["w"])(9,(function(e){return Object(a["k"])(l,{class:Object(a["m"])([{"item--active":c.settingsState},{"current-segment":c.activeSegment===e}]),index:e,data:c.segmentsData[e-1],settingsState:c.settingsState,activeSegment:c.activeSegment,maxX:c.maxX,maxY:c.maxY,currentZindex:c.currentZindex,key:e,onClick:function(t){return c.selectSegment(e)},onEditData:c.editData,onMoveValue:c.moveValue},null,8,["class","index","data","settingsState","activeSegment","maxX","maxY","currentZindex","onClick","onEditData","onMoveValue"])})),64)),Object(a["h"])("div",{class:"graph__item-minus",onClick:t[2]||(t[2]=function(e){return c.selectSegment(10)})},Cn),Object(a["h"])("div",Dn,[Object(a["h"])("div",Pn,[Object(a["h"])("ul",Tn,[(Object(a["r"])(!0),Object(a["g"])(a["a"],null,Object(a["w"])(c.maxY,(function(e){return Object(a["r"])(),Object(a["g"])("li",{class:"axis__item axis__item--y",key:e},[Object(a["j"])(Object(a["z"])(e)+" ",1),e===c.maxY?(Object(a["r"])(),Object(a["g"])("span",Nn,"+")):Object(a["f"])("",!0)])})),128))]),Object(a["h"])("ul",Wn,[(Object(a["r"])(),Object(a["g"])(a["a"],null,Object(a["w"])(18,(function(e){return Object(a["h"])("li",{class:"axis__item",key:e},Object(a["z"])(Math.ceil(c.maxX/17*(e-1))),1)})),64))]),Object(a["h"])("span",En,Object(a["z"])(c.maxX+1)+" +",1)])])],512)])}var Vn=n("bee2"),Ln=n("d4ec"),Hn={class:"button-transparent"};function zn(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("button",Hn,[Object(a["x"])(e.$slots,"default",{},void 0,!0)])}var Un={name:"ButtonTransparent"};n("cde3");const In=Se()(Un,[["render",zn],["__scopeId","data-v-c62025b8"]]);var Yn=In;function Xn(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("div",{class:Object(a["m"])(["toggle",{"toggle--active":c.toggle},{"toggle-disabled":c.toggle.disabled},{toggle2:2===n.type},{"toggle-banned":n.banned}]),onClick:t[0]||(t[0]=function(){return c.justToggle&&c.justToggle.apply(c,arguments)})},[Object(a["h"])("span",{class:Object(a["m"])(["toggle__eclipse",{"eclipse--active":c.toggle&&1===n.type},{eclipse2:2===n.type},{"eclipse2--active":c.toggle&&2===n.type}])},null,2)],2)}var Gn={name:"toggle-component",props:{defaultState:{type:Boolean,default:!0},emitValue:{type:Boolean,default:!1},modelValue:{type:Boolean},type:{type:Number,default:1},banned:{type:Boolean,default:!1}},setup:function(e,t){var n=t.emit,c=Object(a["v"])(!0),i=Object(a["v"])(!1);function s(){c.value=!1}function u(){c.value=!0}function r(){i.value=!0}function l(){e.banned||(c.value=!c.value,e.emitValue?(n("justToggle",c.value),n("update:ModelValue",c.value)):n("justToggle"))}return Object(a["D"])((function(){!1===e.defaultState?c.value=!1:c.value=!0})),e.banned&&(c.value=!1),{toggle:c,justToggle:l,off:s,on:u,disable:r}}};n("6293");const Zn=Se()(Gn,[["render",Xn],["__scopeId","data-v-0df82dc7"]]);var Qn=Zn,Jn=n("c4d9"),Kn=n.n(Jn),$n=function(e){return Object(a["t"])("data-v-6b2a70fe"),e=e(),Object(a["s"])(),e},ea={class:"segment-modal"},ta=$n((function(){return Object(a["h"])("h3",{class:"modal__title"},"Настройка диапазона",-1)})),na={class:"modal__item"},aa=$n((function(){return Object(a["h"])("p",{class:"modal__name"},"Количество покупок",-1)})),ca={class:"data__block"},ia=$n((function(){return Object(a["h"])("input",{class:"modal__data modal__data1",type:"text",placeholder:"1",disabled:""},null,-1)})),sa=Object(a["j"])(" — "),ua={class:"modal__item modal__item1"},ra=$n((function(){return Object(a["h"])("p",{class:"modal__name"},"Давность, дней",-1)})),la={class:"data__block"},oa=$n((function(){return Object(a["h"])("input",{class:"modal__data modal__data1",type:"text",placeholder:"0",disabled:""},null,-1)})),ma=Object(a["j"])(" — "),da={class:"minus"},ba=$n((function(){return Object(a["h"])("p",{class:"minus__title"},"Все, кто вышел за рамки активных сегментов",-1)})),pa={class:"minus__info"},ga=$n((function(){return Object(a["h"])("p",{class:"minus__name"},"Отток",-1)})),va={class:"minus__stat"},Oa={class:"minus__input minus__input1"},ja=Object(a["j"])(" — "),fa=$n((function(){return Object(a["h"])("p",{class:"minus__input minus__input2"},[Object(a["h"])("img",{class:"infinity-icon",src:Kn.a,alt:""})],-1)})),ya={class:"modal__buttons"},_a=Object(a["j"])("Закрыть"),ha=Object(a["j"])("Сохранить изменения");function xa(e,t,n,c,i,s){var u=Object(a["y"])("button-grey"),r=Object(a["y"])("button-orange");return Object(a["r"])(),Object(a["g"])("div",null,[Object(a["h"])("div",ea,[ta,Object(a["h"])("div",na,[aa,Object(a["h"])("div",ca,[ia,sa,Object(a["F"])(Object(a["h"])("input",{class:"modal__data modal__data2","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.modalData.endY=e}),type:"text",placeholder:"5"},null,512),[[a["A"],c.modalData.endY]])])]),Object(a["h"])("div",ua,[ra,Object(a["h"])("div",la,[oa,ma,Object(a["F"])(Object(a["h"])("input",{class:"modal__data modal__data2","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.modalData.endX=e}),type:"text",placeholder:"160"},null,512),[[a["A"],c.modalData.endX]])])]),Object(a["h"])("div",da,[ba,Object(a["h"])("div",pa,[ga,Object(a["h"])("div",va,[Object(a["h"])("p",Oa,Object(a["z"])(n.numberOfX.endX+1),1),ja,fa])])]),Object(a["h"])("div",ya,[Object(a["k"])(u,{width:112,height:48,onClick:c.closeModal},{default:Object(a["E"])((function(){return[_a]})),_:1},8,["onClick"]),Object(a["k"])(r,{width:219,height:48,onClick:c.saveModalData},{default:Object(a["E"])((function(){return[ha]})),_:1},8,["onClick"])])]),Object(a["h"])("div",{class:"modal__background",onClick:t[2]||(t[2]=function(){return c.closeModal&&c.closeModal.apply(c,arguments)})})])}var Ma={class:"button-grey"};function Sa(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("button",Ma,[Object(a["x"])(e.$slots,"default",{},void 0,!0)])}var wa={name:"ButtonGrey"};n("c79c");const Fa=Se()(wa,[["render",Sa],["__scopeId","data-v-22584e2c"]]);var Ra=Fa,qa={class:"button-orange"};function ka(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("button",qa,[Object(a["x"])(e.$slots,"default",{},void 0,!0)])}var Aa={name:"ButtonOrange"};n("9ddb");const Ca=Se()(Aa,[["render",ka],["__scopeId","data-v-0416aa26"]]);var Da=Ca,Pa={name:"segment-modal",components:{buttonGrey:Ra,buttonOrange:Da},props:{numberOfX:{type:Number,required:!0},numberOfY:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,c=Object(a["u"])({endX:e.numberOfX,endY:e.numberOfY});function i(){c.endX=Number(c.endX),c.endY=Number(c.endY),n("takeModalData",c),s()}function s(){n("closeModal")}return{modalData:c,closeModal:s,saveModalData:i}}};n("73e4");const Ta=Se()(Pa,[["render",xa],["__scopeId","data-v-6b2a70fe"]]);var Na=Ta,Wa=function(e){return Object(a["t"])("data-v-9a110546"),e=e(),Object(a["s"])(),e},Ea={key:0,class:"segment__paddings"},Ba={class:"segment__number"},Va=["src"],La={key:0,class:"segment__stat segment-small__stat"},Ha=Wa((function(){return Object(a["h"])("span",{class:"bold"},"12",-1)})),za=Object(a["j"])(" — "),Ua=Wa((function(){return Object(a["h"])("span",{class:"light"},"12",-1)})),Ia=[Ha,za,Ua],Ya={key:0,class:"segment__content"},Xa=Object(a["i"])('<p class="segment__name" data-v-9a110546>Чемпионы</p><p class="segment__stat" data-v-9a110546><span class="bold" data-v-9a110546>123</span> — <span class="light" data-v-9a110546>10</span></p><p class="segment__stat" data-v-9a110546><span class="light-1" data-v-9a110546>Средний чек</span> — <span class="bold" data-v-9a110546>123 ₽</span></p>',3),Ga=[Xa],Za={key:1,class:"segment-small__content"},Qa=Wa((function(){return Object(a["h"])("p",{class:"segment__name no-wrap"},[Object(a["h"])("span",null,"Чемпионы")],-1)})),Ja=Wa((function(){return Object(a["h"])("p",{class:"segment__name bold"},"123 ₽",-1)})),Ka=[Qa,Ja];function $a(e,t,c,i,s,u){var r=Object(a["y"])("segment-settings");return Object(a["r"])(),Object(a["g"])("div",{class:Object(a["m"])(["segment","segment"+c.index,{"segment--settings":c.settingsState},{"item--nonactive":c.settingsState&&c.index!==c.activeSegment},{"segment-small":i.height<=30}]),style:Object(a["n"])(i.segmentPosition)},[Object(a["h"])("div",{class:Object(a["m"])(["segment__wrapper",["segment__wrapper"+c.index]])},[c.settingsState?c.activeSegment===c.index?(Object(a["r"])(),Object(a["e"])(r,{key:1,index:c.index,segmentData:c.data,maxY:c.maxY,maxX:c.maxX,onEditValue:i.editData,onMoveValue:i.moveValue},null,8,["index","segmentData","maxY","maxX","onEditValue","onMoveValue"])):Object(a["f"])("",!0):(Object(a["r"])(),Object(a["g"])("div",Ea,[Object(a["h"])("div",{class:Object(a["m"])(["segment__header",{"small-segment__header":i.height<30}])},[Object(a["h"])("p",Ba,"0"+Object(a["z"])(c.index),1),Object(a["h"])("img",{class:"segment__icon",src:n("35e2"),alt:""},null,8,Va),i.height<=30?(Object(a["r"])(),Object(a["g"])("p",La,Ia)):Object(a["f"])("",!0)],2),i.height>=30?(Object(a["r"])(),Object(a["g"])("div",Ya,Ga)):Object(a["f"])("",!0),i.height<=30?(Object(a["r"])(),Object(a["g"])("div",Za,Ka)):Object(a["f"])("",!0)]))],2)],6)}var ec=n("517d"),tc=n.n(ec),nc=function(e){return Object(a["t"])("data-v-cc8d1300"),e=e(),Object(a["s"])(),e},ac={class:"settings__wrapper"},cc={class:"settings__line"},ic=nc((function(){return Object(a["h"])("p",{class:"settings__name"},"Активность",-1)})),sc=["disabled"],uc=nc((function(){return Object(a["h"])("span",{class:"settings__space"},"—",-1)})),rc=["disabled"],lc={class:"settings__line"},oc=nc((function(){return Object(a["h"])("p",{class:"settings__name"},"Давность",-1)})),mc=["disabled"],dc=nc((function(){return Object(a["h"])("span",{class:"settings__space"},"—",-1)})),bc=["disabled"],pc=nc((function(){return Object(a["h"])("img",{class:"arrow-image0",src:tc.a,alt:""},null,-1)})),gc=[pc],vc=nc((function(){return Object(a["h"])("img",{class:"arrow-image1",src:tc.a,alt:""},null,-1)})),Oc=[vc],jc=nc((function(){return Object(a["h"])("img",{class:"arrow-image2",src:tc.a,alt:""},null,-1)})),fc=[jc],yc=nc((function(){return Object(a["h"])("img",{class:"arrow-image3",src:tc.a,alt:""},null,-1)})),_c=[yc];function hc(e,t,n,c,i,s){return Object(a["r"])(),Object(a["g"])("div",{class:Object(a["m"])(["segment__settings","segment__settings"+n.index])},[Object(a["h"])("div",ac,[Object(a["h"])("div",cc,[ic,Object(a["F"])(Object(a["h"])("input",{class:"settings__input",type:"text",disabled:c.isDisabled.minFrequency,onChange:t[0]||(t[0]=function(e){return c.emitValue("minFrequency")}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.editMinFrequency=e})},null,40,sc),[[a["A"],c.editMinFrequency]]),uc,Object(a["F"])(Object(a["h"])("input",{class:"settings__input",type:"text",disabled:c.isDisabled.maxFrequency,onChange:t[2]||(t[2]=function(e){return c.emitValue("maxFrequency")}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.editMaxFrequency=e})},null,40,rc),[[a["A"],c.editMaxFrequency]])]),Object(a["h"])("div",lc,[oc,Object(a["F"])(Object(a["h"])("input",{class:"settings__input",type:"text",disabled:c.isDisabled.minRecency,onChange:t[4]||(t[4]=function(e){return c.emitValue("minRecency")}),"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.editMinRecency=e})},null,40,mc),[[a["A"],c.editMinRecency]]),dc,Object(a["F"])(Object(a["h"])("input",{class:"settings__input",type:"text",disabled:c.isDisabled.maxRecency,onChange:t[6]||(t[6]=function(e){return c.emitValue("maxRecency")}),"onUpdate:modelValue":t[7]||(t[7]=function(e){return c.editMaxRecency=e})},null,40,bc),[[a["A"],c.editMaxRecency]])]),3!==n.index&&5!==n.index&&9!==n.index?(Object(a["r"])(),Object(a["g"])("div",{key:0,class:"settings__arrow settings__arrow1",onMousedown:t[8]||(t[8]=function(e){return c.activateArrow("maxFrequency")})},gc,32)):Object(a["f"])("",!0),7!==n.index&&8!==n.index&&9!==n.index?(Object(a["r"])(),Object(a["g"])("div",{key:1,class:"settings__arrow settings__arrow2",onMousedown:t[9]||(t[9]=function(e){return c.activateArrow("maxRecency")})},Oc,32)):Object(a["f"])("",!0),1!==n.index&&4!==n.index&&6!==n.index&&7!==n.index?(Object(a["r"])(),Object(a["g"])("div",{key:2,class:"settings__arrow settings__arrow3",onMousedown:t[10]||(t[10]=function(e){return c.activateArrow("minFrequency")})},fc,32)):Object(a["f"])("",!0),1!==n.index&&2!==n.index&&3!==n.index?(Object(a["r"])(),Object(a["g"])("div",{key:3,class:"settings__arrow settings__arrow4",onMousedown:t[11]||(t[11]=function(e){return c.activateArrow("minRecency")})},_c,32)):Object(a["f"])("",!0)])],2)}var xc={name:"segmentSettings",props:{segmentData:{type:Object,required:!0},index:{type:Number,required:!0},maxX:{type:Number,default:160},maxY:{type:Number,default:5}},setup:function(e,t){var n=t.emit,c=Object(a["v"])(0),i=Object(a["v"])(0),s=Object(a["v"])(0),u=Object(a["v"])(0);function r(t){"minRecency"===t?(c.value>e.segmentData.minRecency&&(c.value=e.segmentData.minRecency),c.value<=e.segmentData.limitMinRecency&&(c.value=e.segmentData.limitMinRecency),n("editValue",{name:"minRecency",val:c.value})):"maxRecency"===t?(i.value<e.segmentData.maxRecency&&(i.value=e.segmentData.maxRecency),i.value>=e.segmentData.limitMaxRecency&&(i.value=e.segmentData.limitMaxRecency),n("editValue",{name:"maxRecency",val:i.value})):"minFrequency"===t?(s.value>e.segmentData.minFrequency&&(s.value=e.segmentData.minFrequency),s.value<=e.segmentData.limitMinFrequency&&(s.value=e.segmentData.limitMinFrequency),n("editValue",{name:"minFrequency",val:s.value})):"maxFrequency"===t&&(u.value<e.segmentData.maxFrequency&&(u.value=e.segmentData.maxFrequency),u.value>=e.segmentData.limitMaxFrequency&&(u.value=e.segmentData.limitMaxFrequency),n("editValue",{name:"maxFrequency",val:u.value}))}var l=Object(a["c"])((function(){var t={minFrequency:!1,maxFrequency:!1,minRecency:!1,maxRecency:!1};return 1===e.segmentData.minFrequency&&(t.minFrequency=!0),0===e.segmentData.minRecency&&(t.minRecency=!0),e.segmentData.maxFrequency===e.maxY&&(t.maxFrequency=!0),e.segmentData.maxRecency===e.maxX&&(t.maxRecency=!0),t})),o=Object(a["v"])("");function m(e){window.addEventListener("mousemove",p),o.value=e}var d=[],b=0;function p(){event.preventDefault(),window.addEventListener("mouseup",g),"minFrequency"===o.value||"maxFrequency"===o.value?d.push(-event.y):d.push(event.x);var t=0;d.length>=2&&(t=d[d.length-1]-d[d.length-2],b+=t),"minRecency"===o.value&&t<0?e.segmentData.minRecency<=e.segmentData.limitMinRecency?n("moveValue",{name:o.value,val:0}):n("moveValue",{name:o.value,val:t}):"maxRecency"===o.value&&t>0?e.segmentData.maxRecency>=e.segmentData.limitMaxRecency?n("moveValue",{name:o.value,val:0}):n("moveValue",{name:o.value,val:t}):"minFrequency"===o.value&&b<-125?(e.segmentData.minFrequency<=e.segmentData.limitMinFrequency?n("moveValue",{name:o.value,val:0}):n("moveValue",{name:o.value,val:-1}),b=0):"maxFrequency"===o.value&&b>125&&(e.segmentData.maxFrequency>=e.segmentData.limitMaxFrequency?n("moveValue",{name:o.value,val:0}):n("moveValue",{name:o.value,val:1}),b=0),v()}function g(){window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",g),d=[]}function v(){c.value=Math.round(e.segmentData.minRecency),i.value=Math.round(e.segmentData.maxRecency),s.value=Math.round(e.segmentData.minFrequency),u.value=Math.round(e.segmentData.maxFrequency)}return Object(a["C"])(e.segmentData,(function(){v()}),{deep:!0}),Object(a["p"])((function(){v()})),{editMinRecency:c,editMaxRecency:i,editMinFrequency:s,editMaxFrequency:u,emitValue:r,activateArrow:m,isDisabled:l}}};n("e292");const Mc=Se()(xc,[["render",hc],["__scopeId","data-v-cc8d1300"]]);var Sc=Mc,wc={name:"newGraphItem",components:{segmentSettings:Sc},props:{index:{type:Number},data:{type:Object,required:!0},activeSegment:{type:Number,default:0},settingsState:{type:Boolean,default:!1},maxY:{type:Number},maxX:{type:Number},currentZindex:{type:Number,default:1}},setup:function(e,t){var n=t.emit,c=Object(a["c"])((function(){return 100/e.maxY*1.01})),i=Object(a["c"])((function(){return 100/e.maxX})),s=Object(a["c"])((function(){return(e.data.maxRecency-e.data.minRecency+1)*i.value})),u=Object(a["c"])((function(){return(e.data.maxFrequency-e.data.minFrequency+1)*c.value})),r=Object(a["c"])((function(){return"calc("+(e.data.minFrequency-1)*c.value+"% - 7px)"})),l=Object(a["c"])((function(){return"calc("+e.data.minRecency*i.value+"% - 8px)"})),o=Object(a["c"])((function(){return"width: calc("+s.value+"% - 8px); height: calc("+u.value+"% - 8px); left: "+l.value+"; bottom: "+r.value+"; z-index:"+b.value}));function m(t){n("editData",{index:e.index,data:t})}function d(t){n("moveValue",{index:e.index,data:t})}var b=Object(a["v"])(1);return Object(a["C"])((function(){return e.activeSegment}),(function(){e.activeSegment===e.index&&(b.value=e.currentZindex)})),{segmentPosition:o,editData:m,moveValue:d,width:s,height:u}}};n("c7a8");const Fc=Se()(wc,[["render",$a],["__scopeId","data-v-9a110546"]]);var Rc=Fc,qc={name:"NewSegmentLayout",components:{toggleComponent:Qn,segmentModal:Na,newGraphItem:Rc,buttonTransparent:Yn},props:{rfmInfo:{type:Object}},setup:function(e,t){var n=t.emit,c=(Object(s["b"])(),Object(a["v"])(160)),i=Object(a["v"])(5);function u(e){c.value=e.endX,i.value=e.endY}Object(a["C"])(c,(function(e,t){var n=e/t;l.forEach((function(e){n>1?(e.maxRecency=Math.round(e.maxRecency*n)+n-1,e.minRecency=Math.round(e.minRecency*n)):(e.maxRecency=Math.round((e.maxRecency-1)*n)-n,0===e.minRecency?e.minRecency=Math.round(e.minRecency*n):e.minRecency=Math.round(e.minRecency*n)-n)}))})),Object(a["C"])(i,(function(e,t){var n=e/t;l.forEach((function(e){e.maxFrequency=Math.round(e.maxFrequency*n),e.minFrequency=Math.round((e.minFrequency-1)*n)+1}))}));var r=Object(Vn["a"])((function e(t,n,a,s){Object(Ln["a"])(this,e),this.maxFrequency="max"===n?i.value:n,this.maxRecency="max"===s?c.value:s,this.minFrequency=t,this.minRecency=a})),l=Object(a["u"])([]);function o(){l[0].limitMaxRecency=l[3].maxRecency-10,l[0].limitMaxFrequency=l[1].maxFrequency-1,l[1].limitMaxRecency=l[3].maxRecency-10,l[1].limitMaxFrequency=l[2].maxFrequency-1,l[1].limitMinFrequency=l[0].minFrequency+1,l[2].limitMaxRecency=l[4].maxRecency-10,l[2].limitMinFrequency=l[1].minFrequency+1,l[3].limitMaxRecency=l[5].maxRecency-10,l[3].limitMinRecency=l[0].minRecency+10,l[3].limitMaxFrequency=l[4].maxFrequency-1,l[4].limitMaxRecency=l[8].maxRecency-10,l[4].limitMinRecency=l[0].minRecency+10,l[4].limitMinFrequency=l[3].minFrequency+1,l[5].limitMinRecency=l[3].minRecency+10,l[5].limitMaxRecency=l[6].maxRecency-10,l[5].limitMaxFrequency=l[7].maxFrequency-1,l[6].limitMinRecency=l[3].minRecency+10,l[6].limitMaxFrequency=l[7].maxFrequency-1,l[7].limitMinRecency=l[3].minRecency+10,l[7].limitMaxFrequency=l[8].maxFrequency-1,l[7].limitMinFrequency=l[5].minFrequency+1,l[8].limitMinRecency=l[4].minRecency+10,l[8].limitMinFrequency=l[5].minFrequency+1}e.rfmInfo.forEach((function(e){l.push(new r(e.minFrequency,e.maxFrequency,e.minRecency,e.maxRecency))})),console.log(l),o();var m=Object(a["v"])(!1),d=Object(a["v"])(0);function b(){m.value?m.value=!1:(m.value=!0,0===d.value&&(d.value=1))}function p(e){m.value?(d.value=e,o()):n("toggleMainModal",{state:!0,index:e})}var g=Object(a["v"])(!1);function v(){g.value=!g.value}var O=Object(a["v"])(null);function j(e){l[e.index-1][e.data.name]=Number(e.data.val),0!==Number(e.data.val)&&y(e.index-1,e.data.name)}function f(e){"minFrequency"===e.data.name||"maxFrequency"===e.data.name?l[e.index-1][e.data.name]+=Number(e.data.val):"minRecency"!==e.data.name&&"maxRecency"!==e.data.name||(l[e.index-1][e.data.name]+=Number(e.data.val)/(O.value.clientWidth/c.value)),0!==Number(e.data.val)&&y(e.index-1,e.data.name)}function y(e,t){console.log(e,t),0===e?"maxRecency"===t&&l[3].maxFrequency<=l[e].maxFrequency?l[3].minRecency=l[e].maxRecency:"maxFrequency"===t&&l[1].maxRecency<=l[e].maxRecency&&(l[1].minFrequency+=1):1===e?"maxFrequency"===t&&l[2].maxRecency<=l[e].maxRecency?l[2].minFrequency+=1:"minFrequency"===t&&l[0].maxRecency<=l[e].maxRecency&&(l[0].maxFrequency-=1):2===e?"maxRecency"===t&&l[4].minFrequency>=l[e].minFrequency?l[4].minRecency=l[e].maxRecency:"minFrequency"===t&&l[1].maxRecency<=l[e].maxRecency&&(l[1].maxFrequency-=1):3===e?"minRecency"===t?(l[e].maxFrequency>=l[0].maxFrequency&&(l[0].maxRecency=l[e].minRecency),l[e].maxFrequency>=l[1].maxFrequency&&(l[1].maxRecency=l[e].minRecency)):"maxFrequency"===t&&l[e].minRecency<=l[4].minRecency&&l[e].maxRecency>=l[4].maxRecency?l[4].minFrequency+=1:"maxRecency"===t&&(l[e].maxFrequency>=l[7].maxFrequency&&(l[7].minRecency=l[e].maxRecency),l[e].maxFrequency>=l[5].maxFrequency&&(l[5].minRecency=l[e].maxRecency)):4===e?"minRecency"===t?(l[e].minFrequency<=l[2].minFrequency&&(l[2].maxRecency=l[e].minRecency),l[e].minFrequency<=l[1].minFrequency&&(l[1].maxRecency=l[e].minRecency)):"maxRecency"===t?(l[e].minFrequency<=l[8].minFrequency&&(l[8].minRecency=l[e].maxRecency),l[e].minFrequency<=l[7].minFrequency&&(l[7].minRecency=l[e].maxRecency)):"minFrequency"===t&&l[e].minRecency<=l[3].minRecency&&l[e].maxRecency>=l[3].maxRecency&&(l[3].maxFrequency-=1):5===e?"maxRecency"===t&&l[e].maxFrequency>=l[6].maxFrequency?l[6].maxRecency=l[e].minRecency:"maxFrequency"===t&&l[6].maxFrequency>=l[e].maxFrequency&&l[e].minRecency<=l[7].minRecency&&(l[7].minFrequency+=1):6===e?"minRecency"===t&&l[e].maxFrequency>=l[7].maxFrequency?l[5].maxRecency=l[e].minRecency:"maxFrequency"===t&&l[5].minRecency<=l[7].minRecency&&l[5].maxFrequency>=l[e].maxFrequency&&(l[7].minFrequency+=1):7===e?"maxFrequency"===t&&l[e].minRecency<=l[8].minFrequency?l[8].minFrequency+=1:"minFrequency"===t&&(l[6].maxFrequency-=1,l[e].minRecency<=l[5].minRecency&&(l[5].maxFrequency-=1)):8===e&&("minRecency"===t&&l[e].minFrequency<=l[4].minFrequency?l[4].maxRecency=l[e].minRecency:"minFrequency"===t&&l[e].minRecency<=l[5].minRecency&&(l[5].maxFrequency-=1))}Object(a["C"])(d,(function(){_.value+=1}));var _=Object(a["v"])(1);return{settingToggle:b,modalIsActive:g,toggleModal:v,segmentsData:l,settingsState:m,activeSegment:d,selectSegment:p,editData:j,moveValue:f,maxX:c,maxY:i,takeModalData:u,currentZindex:_,segmentWrapper:O}}};n("1c3e");const kc=Se()(qc,[["render",Bn],["__scopeId","data-v-472de79a"]]);var Ac=kc,Cc={components:{segmentsPopup:Vt,segmentsLayoutMobile:fn,newSegmentLayout:Ac},setup:function(){var e=Object(s["b"])();function t(){e.commit("updateWindowWidth",document.documentElement.clientWidth)}window.addEventListener("resize",t),Object(a["o"])((function(){t()})),Object(a["q"])((function(){window.removeEventListener("resize",t)}));var n=Object(a["v"])(!1),c=Object(a["v"])(2);function i(e){e.state?(n.value=e.state,c.value=e.index+1):n.value=e}var u=Object(a["c"])((function(){return e.state.windowWidth})),r=Object(a["c"])((function(){return[{maxFrequency:1,maxRecency:40,minFrequency:1,minRecency:0},{maxFrequency:3,maxRecency:40,minFrequency:2,minRecency:0},{maxFrequency:"max",maxRecency:40,minFrequency:4,minRecency:0},{maxFrequency:3,maxRecency:90,minFrequency:1,minRecency:41},{maxFrequency:"max",maxRecency:100,minFrequency:4,minRecency:41},{maxFrequency:1,maxRecency:120,minFrequency:1,minRecency:91},{maxFrequency:1,maxRecency:160,minFrequency:1,minRecency:121},{maxFrequency:3,maxRecency:160,minFrequency:2,minRecency:91},{maxFrequency:"max",maxRecency:160,minFrequency:4,minRecency:101}]}));return{modalState:n,toggleMainModal:i,segmentPopup:c,windowWidth:u,rfmInfo:r}}};n("f7b6"),n("bbda");const Dc=Se()(Cc,[["render",i],["__scopeId","data-v-f1375ca8"]]);var Pc=Dc,Tc=Object(s["a"])({state:{windowWidth:0},mutations:{updateWindowWidth:function(e,t){e.windowWidth=t}}});Object(a["d"])(Pc).use(Tc).mount("#app")},"5a4f":function(e,t,n){},"5a76":function(e,t,n){e.exports=n.p+"img/smile0.60576827.png"},"5ca2":function(e,t,n){},"61f1":function(e,t,n){e.exports=n.p+"img/smile9.31901f1d.png"},6293:function(e,t,n){"use strict";n("3a59")},"6ab0":function(e,t,n){},"73e4":function(e,t,n){"use strict";n("11ea")},"756f":function(e,t,n){},"868f":function(e,t,n){"use strict";n("a311")},"8b8a":function(e,t,n){"use strict";n("ddb9")},9285:function(e,t,n){},9640:function(e,t,n){},"96c8":function(e,t,n){"use strict";n("1736")},"9ddb":function(e,t,n){"use strict";n("de20")},"9f14":function(e,t,n){e.exports=n.p+"img/redo.456c9b55.svg"},"9f41":function(e,t,n){"use strict";n("0ada")},a045:function(e,t,n){"use strict";n("756f")},a311:function(e,t,n){},a72e:function(e,t,n){e.exports=n.p+"img/smile5.2772b9cf.png"},aeb7:function(e,t,n){},bbda:function(e,t,n){"use strict";n("9640")},c4d9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAUwwAAFMMBFXBNQgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAK2SURBVGiB7Ze/axRBFMc/Z474I2lCbE5MQC00RALxB4TYChaSIIJgIQn+B2IrSNQixGhhoSCBi0K8gGBQTgvBNk3kQNCgYApBvEtEhaCHiCSxmF18O87uzuwiKMwHFpbZ73zf3DHz5j3weDwej8fj8fy3FBz1O4CDQA/wGXgPzAPNjPE7gH3AHqAEvAFqQD2jn5Fu4D7QADYMTxOoAF0OnvuBaeBHjGcjiNmdd/GjwGpMEP35ApxK8SsAl4F1S8/VYA3OtAJzBsMGUAWuAY+BZYOmDGwxeG4GHmradeAFMAtMJnjOBWuyZlwzWAD6YrQ9wHNNP2XQlTXNM9R5MtGPOgtSP267+EFgTUy8CLSkzGkFbmgBR8T3s9q3WYt1FIPY4Zy1YG2JtAFLYtKMRSDJXTG3CfQG4/38/lMWgK0OnhXhuRSsMZZhIa6j0pwLbcCi8JgX324DH1Cp2IVOYEV4DieJx4TwkmOgkF6i6fF0ML4dOJDR84rwG0sSVoVwKGMwgAnh8w5zVnJB7oxqkrAuhKUcAds1rws5vEBtO7m1Y5FBXfeqzhnh9S2nXwnLHyC3UOJhsaCAyjih350cXkPEbKFNmrAm3g9nDHYUdeltAOfF+AgWeTyGQ+K9FqsielhWUCnMhd2oKvWpGHtA9EC7puYOols7cWfoF1nFIVA78FLMPRaMdwGfxPgjB09Ql6n1RQbmUqKYMqfAn8XfSfH9ONEKtEz6bdxChlIiRC/maqhywMQA6saV+gmD7qqmeZXg2Uc0ATgVcxBfTi+jSt5JVMOxaNBMYS7+isBNg/4j8AS4jsowpsbJuZwOGcW+ofkJnLPwPIE66DaemRsaSVpL+R24Bexy8NwJ3ENdcCZP65Yya1O/F5Xa3qIa8a+OPiHbgCOohXYCr/kLTb3H4/F4PB6P5x/lF1PEPGEeLJLsAAAAAElFTkSuQmCC"},c71e:function(e,t,n){e.exports=n.p+"img/sms-tracking_black.5dfc3f24.svg"},c754:function(e,t,n){e.exports=n.p+"img/smile8.c16c8929.png"},c79c:function(e,t,n){"use strict";n("aeb7")},c7a8:function(e,t,n){"use strict";n("3efd")},cde3:function(e,t,n){"use strict";n("4552")},cf2d:function(e,t,n){"use strict";n("6ab0")},d6fb:function(e,t,n){var a={"./smile0.png":"5a76","./smile1.png":"35e2","./smile2.png":"2309","./smile3.png":"ecb6","./smile4.png":"0a52","./smile5.png":"a72e","./smile6.png":"1126","./smile7.png":"539c","./smile8.png":"c754","./smile9.png":"61f1"};function c(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=i,e.exports=c,c.id="d6fb"},ddb9:function(e,t,n){},de20:function(e,t,n){},e292:function(e,t,n){"use strict";n("2495")},ea90:function(e,t,n){},ecb6:function(e,t,n){e.exports=n.p+"img/smile3.2aca4c79.png"},f7b6:function(e,t,n){"use strict";n("fd97")},fd97:function(e,t,n){}});
//# sourceMappingURL=app.925b938b.js.map